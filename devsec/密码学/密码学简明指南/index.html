<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-devsec docs-doc-id-密码学/密码学简明指南">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">密码学简明指南 | 时光wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wiki.w2aa.ml/devsec/密码学/密码学简明指南"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="keywords" content="时光, wiki, blog, c, c++, java, python, linux"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-devsec-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-devsec-current"><meta data-rh="true" property="og:title" content="密码学简明指南 | 时光wiki"><meta data-rh="true" name="description" content="这篇文章不涉及密码学的数学原理，只提及相关概念和应用"><meta data-rh="true" property="og:description" content="这篇文章不涉及密码学的数学原理，只提及相关概念和应用"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wiki.w2aa.ml/devsec/密码学/密码学简明指南"><link data-rh="true" rel="alternate" href="https://wiki.w2aa.ml/devsec/密码学/密码学简明指南" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://wiki.w2aa.ml/devsec/密码学/密码学简明指南" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8W3YJXJGF2-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="时光`s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="时光`s Blog Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="时光`s Blog JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-MHMEL0F832","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MHMEL0F832"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MHMEL0F832",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="时光wiki" href="/opensearch.xml">


















<script async defer="defer" data-website-id="/" src="/"></script><link rel="stylesheet" href="/assets/css/styles.7bc7ae63.css">
<link rel="preload" href="/assets/js/runtime~main.fa47d194.js" as="script">
<link rel="preload" href="/assets/js/main.5e182ebc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">📚 时光&#x27;s Wiki</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">👨🏻‍🌾 博客</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">👨🏻‍🎓 维基</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/getting-started">基础入门</a></li><li><a class="dropdown__link" href="/programming-language">程序设计语言</a></li><li><a class="dropdown__link" href="/structures-algorithms">数据结构与算法</a></li><li><a class="dropdown__link" href="/computer-composition">计算机组成</a></li><li><a class="dropdown__link" href="/computer-network">计算机网络</a></li><li><a class="dropdown__link" href="/operating-system">操作系统</a></li><li><a class="dropdown__link" href="/database-system">数据库系统</a></li><li><a class="dropdown__link" href="/computer-security">计算机系统安全</a></li><li><a class="dropdown__link" href="/software-engineering">软件工程</a></li><li><a class="dropdown__link" href="/compilation-principle">编译原理</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">👨‍💻 职业</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/roadmap">求职之路</a></li><li><a class="dropdown__link" href="/devops">运维开发工程师</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/devsec">信息安全工程师</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">📁 网盘</a><ul class="dropdown__menu"><li><a href="https://p.w2nn.ml/" target="_blank" rel="noopener noreferrer" class="dropdown__link">固件仓库<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://pan.w2nn.ml/zh-CN/" target="_blank" rel="noopener noreferrer" class="dropdown__link">固件仓库[备用仓库]<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://p.wwang.pw" target="_blank" rel="noopener noreferrer" class="dropdown__link">资源库<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">🧰 工具</a><ul class="dropdown__menu"><li><a href="https://sub.w2aa.ga/" target="_blank" rel="noopener noreferrer" class="dropdown__link">订阅转换<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://s.w2aa.ga/" target="_blank" rel="noopener noreferrer" class="dropdown__link">时光の短链<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://imgapi.xiaowansm.repl.co" target="_blank" rel="noopener noreferrer" class="dropdown__link">随机图api<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/org">自由社区</a></li><li><a class="dropdown__link" href="/com">现代企业</a></li><li><a class="dropdown__link" href="/gov">国家政府</a></li></ul></div><a class="navbar__item navbar__link" href="/life">🚴🏻‍♀️ 生活</a><a class="navbar__item navbar__link" href="/journal">📽️ 日志</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><b>📚 时光&#x27;s Wiki</b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/devsec/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/devsec/密码学/密码学简明指南">密码学</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/devsec/密码学/密码学简明指南">密码学简明指南</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/devsec/系统权限/系统权限简明指南">系统权限</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/devsec/网络安全/OpenPGP/GnuPG 简明笔记">网络安全</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>密码学简明指南</h1></header><p>这篇文章不涉及密码学的数学原理，只提及相关概念和应用</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="概念">概念<a class="hash-link" href="#概念" title="标题的直接链接">​</a></h2><ul><li><p>古典密码 基于字符的替换或移项，或者两者混合使用。</p></li><li><p>现代密码 使用计算机技术的，在比特和字节上操作。</p></li><li><p>明文 = 在密码学中是指传送方想要接收方获得的可读信息</p></li><li><p>密文 = 经过加密的明文</p></li><li><p>加密 = 把明文转换为密文的过程</p></li><li><p>解密 = 把密文转换为明文的过程</p></li><li><p>密钥 = 指某个用来完成加密、解密、完整性验证等密码学应用的秘密信息</p></li><li><p>密码 约等于 密钥</p></li><li><p>Hash = 哈希，又被翻译为 离散</p><ul><li>按照不同的语境，可以理解为的 哈希值（hash value） 或 哈希函数（hash function）</li><li>哈希值就是指一段信息经过哈希函数处理后输出的值</li><li>哈希函数无法逆向演算回原本的数值</li><li>对于大多数情况下，哈希值不一样，原本的值也不一样<ul><li>md5 和 sha-1 都存在哈希冲突的情况，就是哈希值一样但原本的值不一样</li></ul></li><li>这是一些常见的哈希函数<ul><li>md5</li><li>sha-1</li><li>sha-256</li><li>sha-512</li></ul></li></ul></li><li><p>数字摘要 = 一段信息的哈希值，一般情况下是指明文的哈希值</p></li><li><p>MD = 消息摘要 (Message Digest) ，就是数字摘要</p></li><li><p>MAC = 消息验证码 (Message Authentication Code) ，就是明文 + 密钥 + MAC 算法生成的一段数据，这里的密钥一般是对称加密的密钥，MAC 算法有很多种，但最常用的是 hash 算法，就是明文加上密钥的数字摘要</p></li><li><p>HMAC = 使用 hash 算法的 MAC</p></li><li><p>Nonce 是 Number used once 或 Number once 的缩写，数字使用一次，在密码学中 Nonce 是一个只被使用一次的任意或非重复的随机数值</p></li><li><p>时间戳 timestamp 表示的是从世界标准时间（UTC，Coordinated Universal Time）的 1970 年 1 月 1 日 0 时 0 分 0 秒开始到现在的秒数，时间戳大部分情况下是 10 位的，但有时也会用 13 位的时间戳</p></li><li><p>块加密 又称为 分块加密 或 分组加密 ，是将明文分成多个等长的模块（block），使用确定的算法和对称密钥对每组分别加密解密。块加密通常有三个参数，算法 密码强度 模式，例如 aes-256-gcm ， aes 是对称加密的算法， 256 是密码强度， gcm 是分组密码的工作模式，通常只有块加密的算法有工作模式的参数。DES 和 AES 都是块加密</p></li><li><p>流加密 加密和解密双方使用相同伪随机加密数据流（pseudo-randomstream）作为密钥，明文数据每次与密钥数据流顺次对应加密，得到密文数据流。实践中数据通常是一个位（bit）并用异或（xor）操作加密。RSA 是流加密</p></li><li><p>对称加密 = 加密和解密都用同一个密钥。</p></li><li><p>非对称加密 = 加密和解密使用不同的密钥。</p><ul><li>公开的密钥用于加密和验证签名，称为公钥；不公开的密钥用于解密和签名，称为私钥</li><li>一般是一对密钥，加密用其中一个密钥，那么解密就要用另一个密钥。一般两个密钥的长度是不一样的，一般长度较短的密钥会公开，称为公钥，长度较长的密钥不会公开，称为私钥 （这个其实只适用于 RSA ，其它非对称加密算法不是这样的）</li></ul></li><li><p>公开密钥密码学 (Public-key cryptography) 就是 非对称加密</p></li><li><p>公钥 = 在非对称加密中，可以公开的密钥</p></li><li><p>私钥 = 在非对称加密中，不能公开的密钥</p></li><li><p>数字签名 = 在非对称加密中，由私钥和签名算法生成的信息。在 RSA 中数字签名是由私钥加密后的数字摘要，但其它非对称加密算法不是这样的。</p></li><li><p>密钥密文 一般是指，对称加密和非对称加密组合使用下，使用公钥 加密 对称加密的密钥</p></li><li><p>数字信封 一般是指，对称加密和非对称加密组合使用下，内容是 密钥密文 + 密文 （使用对称加密的密文） 的信息。数字信封既发挥了对称加密算法速度快的优点，又发挥了非对称加密算法密钥管理方便的优点。</p></li><li><p>CKE = 内容密钥 (Contents Encrypting Key) ，就是用于加密明文的密钥，是和 KEK 相对的</p></li><li><p>KEK = 加密密钥的密钥 (Key Encrypting Key)</p></li><li><p>PBE = 基于口令的密钥 (Password Based Encryption，PBE) ，在 PGP 里会用 PBE 加密私钥</p></li><li><p>盐（Salt），在密码学中，是指在散列之前将散列内容（例如：密码）的任意固定位置插入特定的字符串。这个在散列中加入字符串的方式称为“加盐”。其作用是让加盐后的散列结果和没有加盐的结果不相同，在不同的应用情景中，这个处理可以增加额外的安全性。在大部分情况，盐是不需要保密的。盐可以是随机产生的字符串，其插入的位置可以也是随意而定。</p></li><li><p>数字证书 = 用户信息（csr） + 用户公钥 + 公钥指纹 + 其它相关信息 + （颁发机构私钥 加密 前面提及的 相关数据的 数字摘要 所得到的数字签名）</p><ul><li><p>https 里的 ssl 证书就是数字证书</p></li><li><p>这是数字证书的一般格式</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token code punctuation" style="color:#393A34">```</span><span class="token code"></span><br></span><span class="token-line" style="color:#393A34"><span class="token code"></span><span class="token code code-block">  证书</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  版本号</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  序列号 由证书颁发者分配的本证书的唯一标识符。颁发者和证书序列号配合起来就能唯一地标识一张数字证书。</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  签名算法</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  颁发者</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      国家（C，Country）</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      州/省（S，State）</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      地域/城市（L，Location）</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      组织/单位（O，Organization）</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      通用名称（CN，Common Name）</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  证书有效期</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      此日期前无效</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      此日期后无效</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  主题</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      国家（C，Country）</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      州/省（S，State）</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      地域/城市（L，Location）</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      组织/单位（O，Organization）</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      通用名称（CN，Common Name） 在 TLS 应用上，此字段一般是域名</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  主题公钥信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      公钥算法</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      主题公钥</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  颁发者唯一身份信息（可选项 AKID , authority key identifier ） 颁发者公钥的数字摘要</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  主题唯一身份信息（可选项 SKID , subject key identifier ） 主题公钥的数字摘要</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  扩展信息（可选项）</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      主题别名（Subject Alternative Name） 在 TLS 应用上，如果一个证书需要支持多个域名，则其它域名会填在这里</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      授权密钥标识符 颁发者的公钥</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">      ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  证书签名算法</span><br></span><span class="token-line" style="color:#393A34"><span class="token code code-block">  数字签名</span><span class="token code"></span><br></span><span class="token-line" style="color:#393A34"><span class="token code"></span><span class="token code punctuation" style="color:#393A34">```</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><p>PKC = 公钥证书 (Public-Key Certificate，PKC) ，就是数字证书</p></li><li><p>公钥指纹 = 公钥的数字摘要，是用于标识较长公共密钥字节的短序列。由于指纹较比生成它们的密钥短得多，因此可以用来简化某些密钥的管理任务。</p></li><li><p>颁发证书 = CA 用私钥加密 CSR 和 用户公钥然后生成数字证书的过程</p></li><li><p>csr 是 cerificate signing request 的英文缩写，即证书请求文件，内容是 公钥 + 用户信息（例如 域名之类的），一般是向 CA 申请数字证书用的。 X.509 证书申请的格式标准为 PKCS10 和 rfc2314 。 cerificate 证书 signing 签署 request 请求</p></li><li><p>CA = 数字证书认证 (Certificate Authority)</p></li><li><p>CA 中心 = 数字证书认证机构，一般情况下 CA 和 CA 中心 都是指 数字证书认证机构</p></li><li><p>CA 系统 = 用于颁发数字证书的系统，由 CA 中心管理和运营</p></li><li><p>CAA = 数字证书认证授权 (Certificate Authority Authorization) ， CAA 是一种 DNS 记录，它允许站点所有者指定允许哪些证书颁发机构（CA）颁发包含其域名的证书。</p></li><li><p>crt 和 cert 都是 certificate 的缩写</p></li><li><p>最终实体证书 = 普通用户向 CA 申请后使用的证书</p></li><li><p>自签证书 = 用户信息（csr） + 用户公钥 + 私钥加密前面两个数据所得到的数字签名（用户私钥）</p></li><li><p>证书链是从终端用户证书后跟着一系列的 CA 证书，而通常最后一个是自签名证书，并且有如下关系：</p><ol><li>在证书链上除最后一个证书外，证书颁发者等于其后一个证书的主题。</li><li>除了最后一个证书，每个证书都是由其后的一个证书签名的。</li><li>最后的证书是信任主题，由于是通过可信过程得到的，所以可以信任。</li></ol></li><li><p>根证书 = 证书链里最后一个证书，一般是自签证书，一般是 CA 的自签证书，根证书一般是直接内置在客户端（内置在浏览器或操作系统里）的</p></li><li><p>中间证书 = 一个 CA 向另一个 CA 颁发的证书，又或者说证书链中处于中间位置的证书，一个证书链里可以有多个中间证书</p></li><li><p>在线证书状态协议（英语：Online Certificate Status Protocol，缩写：OCSP）是一个用于获取 X.509 数字证书撤销状态的网际协议，在RFC 6960中定义，作为证书吊销列表（CRL）的替代品解</p></li><li><p>证书吊销列表（英文：Certificate revocation list，缩写：CRL，或译作证书废止清册）是尚未到期就被证书颁发机构吊销的数字证书的名单。这些在证书吊销列表中的证书不再会受到信任。目前，在线证书状态协议（OCSP）已经替代证书吊销列表（CRL）成为检查证书状态的主流。</p></li><li><p>证书链的验证</p><ul><li>从证书里获取颁发者信息 -&gt; 从仓库里获取颁发者的公钥 -&gt; 公钥验证数字证书的数字签名</li><li>重复这个过程一直到根证书为止</li><li>这个过程中还会查询 CRL 和 OCSP ，确认证书没有过期。还可能会验证密钥用法，证书策略等属性</li></ul></li><li><p>PKI = 公开密钥基础设施 (Public Key Infrastructure) ， PKI 包含 PKIX 和 PKCS</p><ul><li>PKI 的核心是数字证书的发行，一般来说，构成 PKI 的主要要素就是下面三个概念<ul><li>数字证书</li><li>认证机关 (CA)</li><li>证书库</li></ul></li></ul></li><li><p>PKCS = 公钥密码学标准 (The Public-Key Cryptography Standards)</p><ul><li>是由美国 RSA 数据安全公司及其合作伙伴制定的一组公钥密码学标准，其中包括证书申请、证书更新、证书作废表发布、扩展证书内容以及数字签名、数字信封的格式等方面的一系列相关协议。</li></ul></li><li><p>X.509 = PKIX</p></li><li><p>PKIX = 公钥基础设施 X.509 (Public Key Infrastructure X.509) ，X.509 是密码学里公钥证书的格式标准，证书组成结构标准用 ASN.1 来进行描述</p></li><li><p>X.509 是密码学里公钥证书的格式标准， PKCS 是一系列密码学的标准， PKCS 有十几个标准， X.509 大致相当于 PKCS1 和 PKCS12</p></li><li><p>PKCS #12 定义了一种存档文件格式，用于实现存储许多加密对象在一个单独的文件中。通常用它来打包一个私钥及有关的 X.509 证书，或者打包信任链的全部项目。一个 PKCS #12 文件通常是被加密的，同时单独存在（存档文件格式）。</p><ul><li>可以打包密钥对和数字证书</li></ul></li><li><p>PFX = PKCS#12 ，其实也不算是严格相等，但大多数语境下可以相等</p></li><li><p>PKCS 比较常用的是 1 7 8 10 12</p></li><li><p>ASN.1 抽象语法符号 （Abstract Syntax Notation One，ASN.1）</p><ul><li>ASN.1 是一种用来定义数据结构的接口描述语言</li><li>ASN.1 有一套关联的编码规则，这些编码规则用来规定如何用二进制来表示数据结构， DER 是其中一种</li></ul></li><li><p>DER = 可辨别编码规则 (Distinguished Encoding Rules) ，是一种二进制的用于保存证书和密钥的文件编码格式， windows 和 java 是用这种格式的</p></li><li><p>PEM = 私密 增强 邮件 (Privacy Enhanced Mail) ，是一种纯文本的用于保存证书和密钥的文件编码格式，而 DER 编码的内容是二进制的，不适合与邮件传输（早期 email 不能发送附件）， nginx apahce php 是用这种格式的</p></li><li><p>JKS = Java Key Storage， JAVA 的专属格式，利用 JAVA 的一个叫 keytool 的工具可以进行格式转换。一般用于 Tomcat 服务器。</p></li><li><p>PKCS 和 X.509 是格式标准，而 DER 和 PEM 是文件编码格式</p></li><li><p>CA/浏览器论坛 （CA/Browser Forum） ，是一个证书颁发机构、网页浏览器软件供应商、操作系统，以及其他采用PKI的应用程序的自愿联合体，其颁布X.509 v.3电子证书的签发与管理的行业治理方针，在诸多应用程序中链接到信任锚。其方针涵盖用于SSL/TLS协议和代码签名的证书，以及系统和证书颁发机构的系统和网络安全。</p></li><li><p>会话密钥，加密会话内容的密钥，大多数情况下只用一次。</p></li><li><p>主密钥，会被重复使用的，加密会话密钥的密钥。</p></li><li><p>PSK = 预共享密钥 (pre-shared key)</p></li><li><p>常用的算法</p><ul><li>对称加密<ul><li>des</li><li>3des</li><li>aes</li></ul></li><li>非对称加密<ul><li>RSA</li><li>ElGamal</li><li>ECDSA</li></ul></li><li>数字摘要<ul><li>sha2</li><li>md5</li></ul></li></ul></li><li><p>密码套件 (cipher suite) 或者称为密码包，是 https 中各种算法的集合，一般包括 密钥交换算法 身份验证算法 加密算法（加密方法-加密强度-模式） 哈希算法 。一般情况下密码包里的算法不能重复出现，例如 密钥交换算法用了 RSA ，那么身份验证算法就不能用 RSA</p></li><li><p>PR = 伪随机数 (Pseudo Random) ，计算机里生成真正的随机数其实挺麻烦的，所以一般都是用伪随机数</p></li><li><p>PRF = 伪随机数函数 (Pseudo Random Function) ，就是用于生成伪随机数的方法</p></li><li><p>PRNG = 伪随机数生成器 (Pseudo Random Number Generator) ，就是用于生成伪随机数的方法</p></li><li><p>TRNG = 真随机数生成器 (True Random Number Generator)</p></li><li><p>HRNG = 硬件随机数生成器 (Hardware Random Number Generator) ，大部分语境下 HRNG == TRNG ，单靠软件无法生成真随机数</p></li><li><p>CSPRNG = 密码学安全伪随机数生成器 (Cryptographically secure pseudo-random number generator)</p></li><li><p>TTP 可信赖的第三者 (Trusted third party) ，在 PKI 里通常是指 CA</p></li><li><p>OTP 一次性密码本 (one-time pad)</p></li><li><p>HTTPS = HTTP + TLS 或 HTTP + TLS ， HTTP + SSL 已经被弃用，现在的都是 HTTP + TLS ，有些时候也会称为 HTTP + TLS／SSL</p></li><li><p>WSS = WebSocket + TLS／SSL</p></li><li><p>SSL = 安全套接层 (Secure Sockets Layer) ，网景公司（Netscape）在 1994 年推出首版网页浏览器－网景导航者时，推出 HTTPS 协议，以 SSL 进行加密</p></li><li><p>TLS = 传输层安全性协议 (Transport Layer Security) ， IETF 将 SSL 标准化，并将其称为 TLS ， 1999 年公布 TLS 1.0 标准文件（RFC 2246）。其实大多数 TCP 的协议都可以在上面套一层 TLS</p></li><li><p>除了 HTTP 之外 TSL/TLS 可以跟很多常用的应用层协议（比如：FTP、SMTP、POP、Telnet）搭配使用</p></li><li><p>TLS 服务器证书，就是启用 HTTPS 时需要用到的数字证书，也称为 SSL 证书，一般是从 CA 申请后部署在 HTTP 服务器的</p></li><li><p>一般语境下的 SSL 证书，就是 Common Name 是域名的数字证书</p><ul><li>SSL 证书按照域名的数量可以分为<ul><li>单域名证书</li><li>多域名证书 除了 Common Name 是域名之外，其它域名都填在 扩展信息（可选项）里的主题别名（Subject Alternative Name）</li><li>通配符证书 Common Name 的域名最后一级是通配符 * ，但只能匹配一级的域名</li></ul></li><li>SSL 证书按照审核的内容可以分为<ul><li>域名验证证书 (Domain Validation Certificate DV) ，验证域名的所有权，通常是免费的，颁发速度很快，十分钟左右就能完成颁发</li><li>组织验证证书 (Organization Validation Certificate OV) ，验证域名所有权，也要验证企业或组织身份， 因为 CA 会验证企业或组织的身份，一般需要几天才完成颁发</li><li>扩展验证证书 (Extended Validation Certificate EV) ，除了验证域名所有权， CA 验证企业或组织身份之外，还会引入第三方审核，可能牵涉专业法律人员的调查及独立审计人员</li></ul></li></ul></li><li><p>S/MIME ，安全的多用途 Internet 邮件扩展（Secure Multipurpose Internet Mail Extensions，简称S/MIME）是一种 Internet 标准，它在安全方面对 MIME 协议进行了扩展，可以将 MIME 实体（比如数字签名和加密信息等）封装成安全对象，为电子邮件应用增添了消息真实性、完整性和保密性服务。 S/MIME 不局限于电子邮件，也可以被其他支持 MIME 的传输机制使用，如 HTTP</p></li><li><p>证书颁发机构浏览器论坛，也称 CA/浏览器论坛（英语: CA/Browser Forum 缩写: CA/B）、证书机构与浏览器论坛，它是一个证书颁发机构、网页浏览器软件供应商、操作系统，以及其他采用 PKI 的应用程序的自愿联合体，其颁布 X.509 v.3 电子证书的签发与管理的行业治理方针，在诸多应用程序中链接到信任锚。其方针涵盖用于 SSL/TLS 协议和代码签名的证书，以及系统和证书颁发机构的系统和网络安全。</p></li><li><p>证书透明度（英语：Certificate Transparency，简称CT）也称证书透明、证书透明化，它是一个实验性的IETF开源标准和开源框架，目的是监测和审计数字证书。通过证书日志、监控和审计系统，证书透明度使网站用户和域名持有者可以识别不当或恶意签发的证书，以及识别数字证书认证机构（CA）的作为。</p></li><li><p>向前保密，前向安全性或前向保密性（英语：Forward Secrecy，缩写：FS），有时也被称为完美前向安全（英语：Perfect Forward Secrecy，缩写：PFS），是密码学中通讯协议的安全属性，指的是长期使用的主密钥泄漏不会导致过去的会话密钥泄漏。</p></li><li><p>零知识证明（Zero Knowledge Proof），是这样的一个过程，证明者在不向验证者提供任何额外信息的前提下，使验证者相信某个论断（Statement）是正确的。证明过程包括交互式（Interactive）和非交互式（Non-interactive）两种。</p></li><li><p>各类编码的转换，例如 base64 和 urlencode ，这类编码的转换虽然可以把一般的字符串转换成一堆看上去是乱码的字符串，但实质上并没有加密的功能，只是增加了普通人的阅读障碍。有些时候也可以用这类方式来规避一些内容的审查</p></li><li><p>数字指纹 主要用于版权保护，其研究具有重要的意义。数字指纹是将不同的标志性识别代码——指纹，利用数字水印技术嵌入到数字媒体中，然后将嵌入了指纹的数字媒体分发给用户。发行商发现盗版行为后，就能通过提取盗版产品中的指纹，确定非法复制的来源，对盗版者进行起诉，从而起到版权保护的作用。</p></li><li><p>e2ee 端到端加密 （End-to-end encryption） 是一种只有参与通讯的用户可以读取信息的通信系统。总的来说，它可以防止潜在的窃听者——包括电信供应商、互联网服务供应商，获取能够用以解密通讯的密钥。此类系统被设计为可以防止潜在的监视或篡改企图，因为没有密钥的第三方难以破译系统中传输或储存的数据。</p></li><li><p>SSH = Secure Shell</p><ul><li>Secure Shell Protocol (rcf 4251) 由 IETF 的网络小组所制定，专为远程登录会话和其他网络服务提供安全性的协议。</li><li>OpenSSH 是 SSH 的开源实现，多数语境下 SSH 指的是 OpenSSH 里的 ssh 命令</li><li>SSH 只是加密的 shell ，最初是用来替代 telnet 的。通过 port forward ，也可以让其他协议通过 SSH 的隧道而起到加密效果。</li><li>SSH 和 TLS 是两种不一样的协议，但都能为其它协议提供加密效果<ul><li>一般用 SSH 的，会称为 xxx over SSH ， 会把 s 加在前面，例如 sftp (ftp over SSH)</li><li>一般用 TLS 的，会称为 xxx over TLS ， 会把 s 加在后面，例如 ftps (ftp over TLS)</li><li>SSH 能代理 UDP</li><li>TLS 是建立在 TCP 上的，要代理 UDP 会有一点困难</li></ul></li></ul></li><li><p>DoH 和 DoT</p><ul><li>DNS over HTTPS 基于 HTTPS 的 DNS</li><li>DNS over TSL 基于 TLS 的 DNS</li><li>DoH 的安全原理与 DoT 一样，他们之间的区别只在于：DoH 有了 HTTP 格式封装，更加通用。</li></ul></li><li><p>DNSSEC = 域名系统安全扩展（DNS Security Extensions），简称DNSSEC。通过数字签名来保证 DNS 应答报文的真实性和完整性，能够防止 DNS 欺骗和缓存污染等攻击。</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="信息安全">信息安全<a class="hash-link" href="#信息安全" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="信息安全五要素">信息安全五要素<a class="hash-link" href="#信息安全五要素" title="标题的直接链接">​</a></h3><ul><li>信息的保密性（Confidenciality）、真实性（Authenticity）、完整性（Integrity）、不可否认性（Non-repudiation）、可用性（Availability）</li><li>其中保密性（Confidenciality）、完整性（Integrity）、可用性（Availability）称为 CIA 三要素</li><li>这些要素是原子的，不能进一步分解或重合，代表信息安全的一个方面。任何信息安全漏洞都可以描述为影响这些要素一个或多个</li><li>CIA 三要素之间存在互相牵制的关系，过度强化保密性时，将造成完整性与可用性的降低，需要高可用性的系统则会造成机密性与完整性的降低，因此在有限资源的前提下，在 CIA 三要素中获取适当的平衡是信息安全管理层次结构的重要课题。</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="各个密码学概念对应的要素">各个密码学概念对应的要素<a class="hash-link" href="#各个密码学概念对应的要素" title="标题的直接链接">​</a></h3><ul><li>数字摘要 -&gt; 完整性</li><li>消息认证码 -&gt; 完整性 真实性</li><li>数字签名 -&gt; 完整性 真实性 不可否认性</li><li>加密 -&gt; 保密性</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="各种攻击所对应的要素">各种攻击所对应的要素<a class="hash-link" href="#各种攻击所对应的要素" title="标题的直接链接">​</a></h3><ul><li>完整性 -&gt; 篡改</li><li>真实性 -&gt; 伪装</li><li>保密性 -&gt; 窃听</li><li>可用性 -&gt; 阻断</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="以-https-为例解释信息安全的五要素">以 https 为例解释信息安全的五要素<a class="hash-link" href="#以-https-为例解释信息安全的五要素" title="标题的直接链接">​</a></h3><ul><li>https 的连接过程<ol><li>tcp 三次握手建立连接</li><li>客户端和服务器协商密码包</li><li>服务器发送证书给客户端，客户端验证证书，这里会验证证书的数字签名，有效时间，颁发者等信息，还会逐级验证证书链上的证书（证书链的验证会查询 OCSP 和 CRL ）</li><li>客户端生成一个对称加密的密钥</li><li>客户端把对称加密的密钥发送给服务端；密钥交换协议有好多种，其中最容易理解的就是 RSA 了，客户端公钥加密 对称加密的密钥，然后服务器用私钥解密</li><li>客户端和服务器在后续的通讯都使用对称加密</li></ol></li><li>数字证书和证书链是保证信息源的真实性</li><li>数字证书中的数字签名是保证数字证书的完整性，真实性，不可否认性</li><li>https 完成握手后的通讯使用对称加密是保证消息的保密性</li><li>对称加密的通讯会在消息的末尾加上 MAC 校验数据，保证消息的完整性，真实性</li><li>但这些都不能保证可用性，以下是针对可用性的攻击例子<ul><li>拒绝服务攻击</li><li>旁观者攻击</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="信息安全常识">信息安全常识<a class="hash-link" href="#信息安全常识" title="标题的直接链接">​</a></h3><ol><li>不要使用保密的密码算法</li><li>使用低强度的密码比不进行任何加密更危险<ul><li>低强度的密码和没有加密同样不安全。但是使用了密码会给用户一种错误的安全感，导致用户容易泄露一些机密的信息。</li></ul></li><li>任何密码总有一天都会被破解</li><li>密码只是信息安全的一部分</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3a">3A<a class="hash-link" href="#3a" title="标题的直接链接">​</a></h3><ul><li>认证（Authentication）<ul><li>识别信息用户的身份，可记录信息被谁所访问使用，例如：透过密码或证书方式验证用户身份。 实务做法：<ul><li>你所知道的（Something you know）：账号／密码</li><li>你所拥有的（Something you have）：IC卡、数字设备、数字签名、一次性密码(OTP)</li><li>你所具备的（Something you are）：指纹、虹膜、声纹、脸部特征、静脉脉纹、DNA</li></ul></li></ul></li><li>授权（Authorization）<ul><li>依照实际需求给予实体适当的权限，一般建议采最小权限（Least privilege），意即仅给予实际作业所需要的权限，避免过度授权可能造成的信息暴露或泄漏。 信息系统层面的实务访问控制方法分类如下：<ul><li>强制访问控制（Mandatory Access Control）</li><li>自由选定访问控制（Discretionary Access Control）</li><li>以角色为基础的访问控制（Role-Based Access Control）</li><li>以规则为基础的访问控制（Rule-Based Access Control）</li></ul></li></ul></li><li>记录（Accounting）<ul><li>内容项目包含量测（Measuring）、监控（Monitoring）、报告（Reporting）与日志案(Logging)， 以便提供未来作为审核（Auditing）、计费（Billing）、分析（Analysis）与管理之用， 主要精神在于收集用户与系统之间交互的资料，并留下轨迹纪录。</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="信息安全的基本原则">信息安全的基本原则<a class="hash-link" href="#信息安全的基本原则" title="标题的直接链接">​</a></h3><p>为了达到信息安全的目标，各种信息安全技术的使用必须遵守一些基本的原则。</p><ul><li>最小化原则。<ul><li>受保护的敏感信息只能在一定范围内被共享，履行工作职责和职能的安全主体，在法律和相关安全策略允许的前提下，为满足工作需要。仅被授予其访问信息的适当权限，称为最小化原则。敏感信息的“知情权”一定要加以限制，是在“满足工作需要”前提下的一种限制性开放。</li><li>可以将最小化原则细分为知所必须（need to know）和用所必须（need to use）的原则。</li></ul></li><li>分权制衡原则。<ul><li>在信息系统中，对所有权限应该进行适当地划分，使每个授权主体只能拥有其中的一部分权限，使他们之间相互制约、相互监督，共同保证信息系统的安全。</li><li>如果一个授权主体分配的权限过大，无人监督和制约，就隐含了“滥用权力”、“一言九鼎”的安全隐患。</li></ul></li><li>安全隔离原则。<ul><li>隔离和控制是实现信息安全的基本方法，而隔离是进行控制的基础。信息安全的一个基本策略就是将信息的主体与客体分离，按照一定的安全策略，在可控和安全的前提下实施主体对客体的访问。</li><li>在这些基本原则的基础上，人们在生产实践过程中还总结出的一些实施原则，他们是基本原则的具体体现和扩展。</li><li>包括：整体保护原则、谁主管谁负责原则、适度保护的等级化原则、分域保护原则、动态保护原则、多级保护原则、深度保护原则和信息流向原则等。</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="随机数">随机数<a class="hash-link" href="#随机数" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="随机数的性质">随机数的性质<a class="hash-link" href="#随机数的性质" title="标题的直接链接">​</a></h3><ol><li>随机性，不存在统计学偏差，是完全杂乱的数列</li><li>不可预测性，不能从过去的数列推测出下一个出现的数列</li><li>不可重现性，除非将数列本身保存下来，否则不能重现相同的数列</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="随机数的分类">随机数的分类<a class="hash-link" href="#随机数的分类" title="标题的直接链接">​</a></h3><ul><li>随机数<ul><li>伪随机数<ul><li>统计学伪随机数（弱伪随机数） - 满足 随机性</li><li>密码学伪随机数（强伪随机数） - 满足 随机性 不可预测性</li></ul></li><li>真随机数 - 满足 随机性 不可预测性 不可重现性</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="随机数的作用">随机数的作用<a class="hash-link" href="#随机数的作用" title="标题的直接链接">​</a></h3><ol><li>生成密钥<ul><li>用于对称密码和消息认证码</li></ul></li><li>生成公钥密码<ul><li>用于生成公钥密码和数字签名</li></ul></li><li>生成初始化向量 IV<ul><li>用于分组密码中的 CBC、CFB、OFB 模式</li></ul></li><li>生成 nonce<ul><li>用于防御重放攻击和分组密码中的 CTR 模式</li></ul></li><li>生成盐<ul><li>用于基于口令密码的 PBE 等</li></ul></li></ol><ul><li>用随机数的目的是为了提高密文的不可预测性</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="在-linux-下生成随机数">在 linux 下生成随机数<a class="hash-link" href="#在-linux-下生成随机数" title="标题的直接链接">​</a></h3><p>/dev/random 在类 UNIX 系统中是一个特殊的设备文件，可以用作随机数生成器。</p><p>/dev/random 的随机数的提供是依赖与外部中断事件的，如果没有足够多中断事件，就会阻塞。 /dev/random 生成的是真随机数。</p><p>/dev/urandom（“unblocked”，非阻塞的随机数生成器）是 /dev/random 的一个副本 ，它会重复使用熵池中的数据以产生伪随机数据。 这表示对 /dev/urandom 的读取操作不会产生阻塞，但其输出的熵可能小于 /dev/random 的。 它可以作为生成较低强度密码的伪随机数生成器，不建议用于生成高强度长期密码。</p><p>/dev/random 和 /dev/urandom 会输出二进制数据流，可以用 od 命令转换，或者用 base64 命令转换。</p><p>/dev/random 和 /dev/urandom 生成的都是符合密码学安全的随机数。因为 /dev/random 可能会阻塞，所以大部分情况下用 /dev/urandom 就可以了。</p><p>大部分情况下都是用 TRNG 生成的随机数作为种子，然后再用 CSPRNG 生成密码学安全的随机数。这样既能保证安全也能效率也不会太低。</p><p>命令行下的使用示例</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 不能直接用 cat ，因为 /dev/random 会一直输出</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">head</span><span class="token plain"> -n </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> /dev/random </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> od -x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">head</span><span class="token plain"> -n </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> /dev/urandom </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> od -x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 生成随机字符串</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">head</span><span class="token plain"> -n </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> /dev/urandom </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> base64 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">head</span><span class="token plain"> -n </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">head</span><span class="token plain"> -n </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> /dev/urandom </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> base64 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">head</span><span class="token plain"> -n </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 只生成数字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">head</span><span class="token plain"> -n </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> /dev/urandom </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> base64 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">head</span><span class="token plain"> -n </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tr</span><span class="token plain"> -dc </span><span class="token string" style="color:#e3116c">&#x27;0-9&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 环境变量里的 $RANDOM 是一个随机数字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token environment constant" style="color:#36acaa">$RANDOM</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/devsec/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Home</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/devsec/系统权限/系统权限简明指南"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">系统权限简明指南</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#概念" class="table-of-contents__link toc-highlight">概念</a></li><li><a href="#信息安全" class="table-of-contents__link toc-highlight">信息安全</a><ul><li><a href="#信息安全五要素" class="table-of-contents__link toc-highlight">信息安全五要素</a></li><li><a href="#各个密码学概念对应的要素" class="table-of-contents__link toc-highlight">各个密码学概念对应的要素</a></li><li><a href="#各种攻击所对应的要素" class="table-of-contents__link toc-highlight">各种攻击所对应的要素</a></li><li><a href="#以-https-为例解释信息安全的五要素" class="table-of-contents__link toc-highlight">以 https 为例解释信息安全的五要素</a></li><li><a href="#信息安全常识" class="table-of-contents__link toc-highlight">信息安全常识</a></li><li><a href="#3a" class="table-of-contents__link toc-highlight">3A</a></li><li><a href="#信息安全的基本原则" class="table-of-contents__link toc-highlight">信息安全的基本原则</a></li></ul></li><li><a href="#随机数" class="table-of-contents__link toc-highlight">随机数</a><ul><li><a href="#随机数的性质" class="table-of-contents__link toc-highlight">随机数的性质</a></li><li><a href="#随机数的分类" class="table-of-contents__link toc-highlight">随机数的分类</a></li><li><a href="#随机数的作用" class="table-of-contents__link toc-highlight">随机数的作用</a></li><li><a href="#在-linux-下生成随机数" class="table-of-contents__link toc-highlight">在 linux 下生成随机数</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 ❤️ <a href="https://blog.w2aa.ga/" target="_blank" rel="noopener noreferrer">时光's Blog</a>.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.fa47d194.js"></script>
<script src="/assets/js/main.5e182ebc.js"></script>
</body>
</html>